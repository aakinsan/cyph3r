{% extends 'cyph3r/base.html' %}
{% load static %}
{% load widget_tweaks %}
{% block content %}
<div class="max-w-lg container mx-auto border-2 bg-white shadow-md rounded-lg p-6">
    <!-- Form Header -->
    <div class="text-center mb-6">
        <h1 class="text-3xl font-semibold text-gray-900">Step 1: Key Generation</h1>
        <p class="text-gray-600 mt-2">
            Use this form to generate cryptographic keys. You will be asked to provide details about the key type, size, and usage. Follow the instructions carefully as this is the first step in securely generating, storing, and managing cryptographic keys.
        </p>
    </div>

    <!-- Form Start -->
    <form method="POST" enctype="multipart/form-data" class="m-10">
        {% csrf_token %}

        <!-- Hidden Fields -->
        {% for hidden in form.hidden_fields %}
        {{ hidden }}
        {% endfor %}

        <!-- Non-field Errors -->
        {% if form.non_field_errors %}
        <span class="text-red-500 text-sm w"> {{ form.non_field_errors }}</span>
        {% endif %}

        <!-- Visible Fields -->
        {% for field in form.visible_fields %}
            <div class="mb-4">
                <label for="{{ field.id_for_label }}" class="block text-gray-700 text-sm font-bold mb-2">{{ field.label }}</label>

                {% if field.field.widget.input_type == 'checkbox' %}
                    {{ field|add_class:"px-4 py-2 text-gray-700 bg-white border rounded-md focus:border-blue-500 focus:outline-none" }} 
                {% else %}
                    {{ field|add_class:"w-full px-4 py-2 text-gray-700 bg-white border rounded-md focus:border-blue-500 focus:outline-none" }} 
                {% endif %}

                {% if field.errors %}
                <span class="text-red-500 text-sm">
                    {% for error in field.errors %}
                    {{ error }}
                    {% endfor %}
                </span>
                {% endif %}
            </div>
        {% endfor %}


        <!-- Submit Button -->
        <div class="flex justify-end">
            <button type="submit" class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition">
                Continue to Next Step
            </button>
        </div>
    </form>
</div>
{% endblock %}
